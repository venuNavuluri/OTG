<template>
    <div style="width: 100%; padding: 3%;">
        <template if:true={isConverting}>
            <lightning-spinner 
                alternative-text="Loading" 
                size="medium"
                variant="brand"
                style="position: relative; margin:50%;">
            </lightning-spinner>
        </template>
        
        <template if:false={isConverting}>
            <template if:false={showContractSelection}>
                <button class="slds-button slds-button_brand" style="width:100%" onclick={convertLead}>
                    <b>Convert To Opportunity</b>
                </button>
            </template>
            
            <template if:true={showContractSelection}>
                <div class="slds-box slds-theme_default slds-clearfix">
                    <h3 class="slds-text-heading_small slds-m-bottom_medium">Select Contract </h3>
                    
                    <lightning-radio-group
                        name="contracts"
                        label="Activated Contracts"
                        options={contractOptions}
                        value={selectedContractId}
                        type="radio"
                        onchange={handleContractSelection}
                        required="true"
                        class="slds-m-bottom_medium">
                    </lightning-radio-group>
                    
                    <div class="slds-float_right slds-m-top_medium">
                        <button class="slds-button slds-button_neutral slds-m-right_small" onclick={handleCancel}>
                            Cancel
                        </button>
                        <button class="slds-button slds-button_brand" onclick={handleSubmit}>
                            Save
                        </button>
                    </div>
                </div>
            </template>
        </template>
    </div>
</template>